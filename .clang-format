# .clang-format - C++23 style for Visual Studio 2026
BasedOnStyle: Microsoft
IndentWidth: 4
TabWidth: 4
UseTab: Never

### Bracing Style ###
BreakBeforeBraces: Allman
AllowShortFunctionsOnASingleLine: Empty

### Function Declaration Formatting ###
# Keep short parameter lists on one line when they fit.
# When they don't fit, break and align parameters under '('.
ColumnLimit: 100
AlignAfterOpenBracket: Align

# Do NOT force a break after the function name for definitions.
# This is what was causing:
#   operator|(
#       ShaderStage a,
#       ShaderStage b)
BreakFunctionDefinitionParameters: false

# If a declaration breaks, put one parameter per line (no bin-packing).
# But if it fits, it will stay on one line.
BinPackParameters: false
BinPackArguments: false

# When breaking, keep each parameter on its own line (no "a, b" on the next line together).
AllowAllParametersOfDeclarationOnNextLine: false
AllowAllArgumentsOnNextLine: false

### Alignment of Declarations ###
AlignConsecutiveDeclarations: true
AlignConsecutiveAssignments: true

### Pointer and Reference Alignment ###
PointerAlignment: Left
ReferenceAlignment: Left

### Qualifiers (East Const) ###
QualifierAlignment: Right

### Other Formatting Options ###
Cpp11BracedListStyle: true
SpaceBeforeParens: ControlStatements

### Constructor Initializer Lists ###
BreakConstructorInitializers: BeforeComma
PackConstructorInitializers: Never
ConstructorInitializerAllOnOneLineOrOnePerLine: true
ConstructorInitializerIndentWidth: 6

### Binary expression wrapping (your matrix-multiply style) ###
BreakBinaryOperations: RespectPrecedence
BreakBeforeBinaryOperators: None
AlignOperands: DontAlign
ContinuationIndentWidth: 4
PenaltyBreakAssignment: 0